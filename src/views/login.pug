extends shared/layout/plane.pug

block splash
    div(id="splash")
        div
            img(src="/assets/logo.png" alt="Profile image")
block content
    header(class="header")
        h1(class="visually-hidden") Login
    div(class="main" style="background-image: url(/assets/login-bg.png);background-position-y: 1em;")
        form(class=`narrow-wrapper ${errorMessage ? '.login-error': ''}` id="loginform" action="login" method="post")
            if errorMessage
                div
                    p= errorMessage
            div(class="input-wrapper")
                input(type="email" name="email" id="email" required)
                label(for="email") Email
            div(class="input-wrapper")
                input(type="password" name="password" id="usrpwd" required)
                label(for="password") Password
            
            div(class="narrow-wrapper")
                a(class="forgot-password" href="/reset-password") Forgot password?
                a(class="new-user" href="/register") New user

            button(type="submit")
                img(src="/assets/checkmark.png" alt="Login")
block footerScripts
    script(src="/js/main.js")
    script.
        const splash = document.getElementById("splash");
        splash.addEventListener("animationend", function() {
            splash.parentNode.removeChild(splash);
        }, false);
